# shared helpers (sha1, like_weight, etc.)